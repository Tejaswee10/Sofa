<!DOCTYPE html>
<html>
<head>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <link rel="stylesheet" href="z3.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
  	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&family=Red+Hat+Display&family=Ubuntu&display=swap" rel="stylesheet">

<style>

  		#section1 {
			
       
  height: 1000px;
		}
    #section2{
  
  height: 1000px;
    }


    .wrapper{
  width:auto;
  height: 700px;
  overflow: hidden;
  position: relative;

}
.scrolling{
  
position: inherit;

  padding: 1em;
  overflow-y: scroll;
 
  width:520px;

height: 700px;
    scroll-behavior: smooth;


  
}
</style>


</head>

<body >
  <div class="nav" id="myScrollspy">
    <a class="btn btn-lg " href="#" >
        <img src="VisCommerce_Company_Logo-red.webp"/> Home</a>
  <a class="btn btn-lg " href="#section1" >Configuration</a>
  
  <a class="btn btn-lg" href="#section2" >Dimensions</a>
  
  <a class="btn btn-lg" href="#" onclick="resetView()"> Reset View</a>
  <a class="btn btn-lg" href="#" onclick="InsceneLoad()">InScene View</a>

  
  </div>

  
    



  <div id="main" class="row gx-0">



        <section class="model col-12 col-md-7 col-lg-8"  >
                  <model-viewer
                    id="model-viewer-id"
                    src="Light_Brown_Cloth_Standalone_1K.glb"
                    alt="Light Brown Cloth Sofa"
                    interaction-prompt="auto"
                    exposure="1"
                    shadow-intensity="3"
                    shadow-softness="0.1"
                    camera-orbit="0 75deg 10m"
                    max-camera-orbit="0 0 2.3m"
                    interaction-prompt="none"
                    camera-controls>
                    
                    
                      <script src="js/dimensions/dimensions_add.js" ></script>
      
                    <div class="poster" slot="poster" style="background-image: url('images/Standalone_Poster.jpg');"></div>

                    <script src="js/progress_bar.js" ></script>
                  </model-viewer>
        
          </section>
        

<section class="col-12 col-md-5 col-lg-4 px-4 px-lg-5"  >
   
  
  <div class="wrapper" >
    <div class="scrolling" >



<section id="section1">   
           


                  <h2 style="padding-top: 70px;"><b>Light Brown Cloth Sofa</b></h2>

                  <br>
                  <h3 ><b>Configuration</b></h3>
                  <div class="tabs" >
                        <div class="tab">
                                    <input type="checkbox" id="chck0">
                                    <label class="tab-label" for="chck0">Environment<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-right-fill" viewBox="0 0 16 16">
                                      <path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
                                    </svg></label>
                                  <div class="tab-content">
                                        Customize your environment
                                        <br>
                                       
                                      		
                                            <button class="appearance-btn hdris " id="hdris" style="background-image: url('sepulchral_chapel_rotunda_4k.jpg') " value="sepulchral_chapel_rotunda_4k.hdr;sepulchral_chapel_rotunda_4k.jpg"
                                            data-name="CheckerPattern" onmouseover="showImage('imageSmall','sepulchral_chapel_rotunda_4k.jpg')"
                                            onmouseout="hideImage('imageSmall')"></button><label for="hdris" style="top: -20px; position: relative;"> kiara Interior</label>
                                            <br>
                            <button class="appearance1-btn hdris" id="hdris1" style="background-image: url('brown_photostudio_01_4k.jpg')" value="brown_photostudio_01_4k.hdr;brown_photostudio_01_4k.jpg"
                                            data-name="DiamondPattern" onmouseover="showImage('imageSmall','brown_photostudio_01_4k.jpg')"
                                            onmouseout="hideImage('imageSmall')"></button><label for="hdris1" style="top: -20px; position: relative;"> Reading Room</label>
                                            <br>
                            <button class="appearance1-btn hdris" id="hdris2" style="background-image: url('scythian_tombs_4k.jpg')" value="scythian_tombs_4k.hdr;scythian_tombs_4k.jpg"
                                            data-name="LeafPattern" onmouseover="showImage('imageSmall','scythian_tombs_4k.jpg')"
                                            onmouseout="hideImage('imageSmall')"></button><label for="hdris2" style="top: -20px; position: relative;"> Residential Garden</label>
                                          
                                  </div>
                        </div>
                  </div>



<script>
function showImage(elemId, imgSrc) {
  console.log("Mouse is over text");
  console.log("\tElemId:" + elemId + " Image Source:" + imgSrc);
  const elem = document.getElementById("hdris");
  const popImage = new Image();
  popImage.src = imgSrc;
  popImage.style.position = "absolute";
  popImage.style.width = "250px";
  popImage.style.borderColor="black";
  popImage.style.borderWidth="20px";
  popImage.style.borderRadius="20px";
  popImage.style.height = "150px";
  popImage.style.top = "0px";
  popImage.style.left = "70px";
  popImage.style.zIndex = "9999";
  elem.appendChild(popImage);


}

function hideImage(elemId) {
  console.log("Mouse is off text");
  console.log("\tElemId:" + elemId);
  const elem = document.getElementById("hdris");
  while (elem.childElementCount > 0) {
    elem.removeChild(elem.lastChild);
  }
}





</script>



<br/>
                  <div class="tabs">
                          <div class="tab">
                                              <input type="checkbox" id="chck1">
                                              <label class="tab-label" for="chck1">Sofa Fabric<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-right-fill" viewBox="0 0 16 16">
                                                <path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
                                              </svg></label>
                                          <div class="tab-content">
                                            Customize your sofa fabric colour
                                                    <div class="sofaColorControls " id="sofaColorControls" style="padding-left: 10px;">
                                                        <button class="appearance-btn" style="background-color:rgb(221, 194, 154)" data-color="#ddc29a"></button>
                                                        <button class="appearance-btn" style="background-color:#eddb17" data-color="#eddb17"></button>
                                                        <button class="appearance-btn" style="background-color:#98b75e" data-color="#98b75e"></button>
                                                        <button class="appearance-btn" style="background-color:#e07b2e" data-color="#e07b2e"></button>
                                                        <button class="appearance-btn" style="background-color:#117774" data-color="#117774"></button>
                                                        <button class="appearance-btn" style="background-color:#323232" data-color="#323232"></button>
                                                    </div>
                                          </div>
                          </div>
                    </div>

<br/>


                  <div class="tabs">
                          <div class="tab">
                                        <input type="checkbox" id="chck2">
                                        <label class="tab-label" for="chck2">Pillow Fabric<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-right-fill" viewBox="0 0 16 16">
                                          <path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
                                        </svg></label>
                                  <div class="tab-content">
                                          Customize your pillow texture/fabric colour
                                          <div id="mySidepanelPillow" class="sidepanel">
                                    
                                                    <div class="pillowColorControls " id="pillowColorControls" style="padding-left: 10px;">
                                                            <button class="appearance-btn pillowColorControls" id="pillowColorControls" style="background-color:#d86316 " data-color="#d86316" data-name="Red"></button>
                                                            <button class="appearance-btn pillowColorControls" id="pillowColorControls" style="background-color:#00ff00" data-color="#00ff00" data-name="Green"></button>
                                                            <button class="appearance-btn pillowColorControls" id="pillowColorControls" style="background-color: #292929" data-color="#292929" data-name="Black"></button>

                                                            <br>
                                                            Customize your pillow texture/fabric colour
                                                            <br>
                                                            <button class="appearance-btn pillowTextureControls" id="pillowTextureControls" style="background-image: url('Checker.jpg') " value="images/textures/Checker.jpg"
                                                                                            data-name="CheckerPattern"></button>
                                                                          <button class="appearance-btn pillowTextureControls" id="pillowColorControls" style="background-image: url('Diamond.jpg')" value="images/textures/Diamond.jpg"
                                                                                            data-name="DiamondPattern"></button>
                                                                          <button class="appearance-btn pillowTextureControls" id="pillowColorControls" style="background-image: url('Leaf.jpg')" value="images/textures/Leaf.jpg"
                                                                                            data-name="LeafPattern"></button>
                                                    </div>
                                        </div>
                                </div>
                        </div>
                </div>
<br>




    
<!-- sec1-->
</section> 
   




  <section id="section2">   
           
   
    
                      <!-- <h2 style="padding-top: 70px;"><b>Light Brown Cloth Sofa</b></h2> 
    
                      <br> -->
                      <h3 style="padding-top: 70px;"><b>Dimensions</b></h3>
                      <div class="tabs" >
                            <div class="tab">
                                        <input type="checkbox" id="chck3">
                                        <label class="tab-label" for="chck3">Environment<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-right-fill" viewBox="0 0 16 16">
                                          <path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
                                        </svg></label>
                                      <div class="tab-content">
                                            Customize your environment
                                            <br>
                                           
                                              
                                      </div>
                            </div>
                      </div>
    
    <br> <script src="js/dimensions/dimensions_Change.js"></script>
    <link rel="stylesheet" href="css/dimensions/dimensions.css">

      <!-- sec2-->
  </section> 


   
       
        
  








 <!-- scrolling  nd wrapper-->
</div>
</div>









</section>
 <!-- maindiv-->
</div>

















<script>


  const modelviewer = document.getElementById("model-viewer-id");
  
      
  
  document.querySelector("#hdris").addEventListener("click", (event) => {
      x = event.target.value;
      temp = new Array();
      temp = x.split(";");
      y = temp[0];
      z = temp[1];
      modelviewer.setAttribute("environment-image", y);
      modelviewer.setAttribute("skybox-image", z);
  });
  
  document.querySelector("#hdris1").addEventListener("click", (event) => {
      x = event.target.value;
      temp = new Array();
      temp = x.split(";");
      y = temp[0];
      z = temp[1];
      modelviewer.setAttribute("environment-image", y);
      modelviewer.setAttribute("skybox-image", z);
  });
  
  document.querySelector("#hdris2").addEventListener("click", (event) => {
      x = event.target.value;
      temp = new Array();
      temp = x.split(";");
      y = temp[0];
      z = temp[1];
      modelviewer.setAttribute("environment-image", y);
      modelviewer.setAttribute("skybox-image", z);
  });
  
  
  
  document.querySelector('#sofaColorControls').addEventListener('click', (event) => {
                        const colorString = event.target.dataset.color;
                        const material1 = modelviewer.model.materials[1];
                        material1.pbrMetallicRoughness.setBaseColorFactor(colorString);
                      });
  
  
                     
      document.querySelector('#mySidepanelPillow').addEventListener('click', (event) => {
                            const colorString = event.target.dataset.color;
                            const material0 = modelviewer.model.materials[0];
                            material0.pbrMetallicRoughness.setBaseColorFactor(colorString);
                          });
        const modelViewerTexture = document.querySelector('model-viewer-id');
  
  /*document.querySelector('#pillowTextureControls').addEventListener('click', (event) => {
  const texture = modelViewerTexture.createTexture("Diamond.jpg");
  const material0 = modelViewerColor1.model.materials[0];
  material0.setTexture(texture);
  let color = ["1", "1", "1", "1"];
    //const material0 = modelviewer.model.materials[0];
    material0.pbrMetallicRoughness.setBaseColorFactor(color);
    //const texture = modelViewerTexture.createTexture(event.target.value);
    //material0.setTexture(texture);
  }); */
  
            document.querySelector('#mySidepanelPillow').addEventListener('click', (event) => {
  
              const material0 = modelviewer.model.materials[0];
  
            const createAndApplyTexture = async (channel, event) => {
              if (event.target.value == "None") {
                // Clears the texture.
                material[channel].setTexture(null);
                
              } else if (event.target.value) {
                // Creates a new texture.
                const texture = await modelviewer.createTexture(event.target.value);
              
                // Applies the new texture to the specified channel.
                material0[channel].setTexture(texture);
              
              }
            }
  
            document.querySelector('#mySidepanelPillow').addEventListener('click', (event) => {
              createAndApplyTexture('normalTexture', event);
            });
            });
  
  
  
            function resetView() {
        modelviewer.cameraOrbit = '0 75deg 10m';
      }
      function reload(){
          let color = ["1", "1", "1", "1"];
          const material1 = modelviewer.model.materials[1];
          const material0 = modelviewer.model.materials[0];
          material1.pbrMetallicRoughness.setBaseColorFactor(color);
          material0.pbrMetallicRoughness.setBaseColorFactor(color);
          //material0.pbrMetallicRoughness.baseColorTexture.texture.source.setTexture("images/textures/white.jpg");
          //const texture = modelViewer1.createTexture("images/textures/white.jpg");
         // material0.SetTexture(texture);
          //createAndApplyTexture('normalTexture', event);
  
          location.reload();
      };
  
      function InsceneLoad(){
        var window3d = window.open("Inscene1.html", '_blank', 'location=no,status=no,scrollbars=yes,resizable=yes,width=screen.width * 0.8,height=screen.height * 0.8');
        //var window3d = window.open("./Simple_Chair_Inscene.php", 'location=no,status=no,scrollbars=yes,resizable=yes,width=screen.width * 0.8,height=screen.height * 0.8');
        window3d.resizeTo(screen.width* 0.8, screen.height * 0.8);
        window3d.moveTo(screen.width* 0.1 * Math.random(), screen.height * 0.1 * Math.random());
        window3d.focus()
      };
          
  
  </script>

    
</body>
</html>